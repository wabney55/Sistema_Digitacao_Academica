{% extends "base.html" %}

{% block content %}
    <h2>Ranking de Desempenho</h2>
    <p>Classifica√ß√£o baseada na melhor velocidade de digita√ß√£o (WPM) de cada usu√°rio.</p>
    
    {% if ranking_data %}
        <div class="table-container">
            <table class="ranking-table">
                <thead>
                    <tr>
                        <th>Posi√ß√£o</th>
                        <th>Usu√°rio</th>
                        <th>Velocidade (WPM)</th>
                        <th>Precis√£o</th>
                        <th>Dificuldade</th>
                        <th>Data</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in ranking_data %}
                    <tr>
                        <td>{{ loop.index }}¬∫</td>
                        <td>
                            {% if loop.index == 1 %}
                                ü•á 
                            {% elif loop.index == 2 %}
                                ü•à 
                            {% elif loop.index == 3 %}
                                ü•â 
                            {% endif %}
                            {{ item.username }}
                        </td>
                        <td>{{ "%.1f"|format(item.wpm) }}</td>
                        <td>{{ "%.1f"|format(item.accuracy) }}%</td>
                        <td>
                            <span class="dificuldade-badge dificuldade-{{ item.difficulty }}">
                                {% if item.difficulty == 1 %}Iniciante{% endif %}
                                {% if item.difficulty == 2 %}Intermedi√°rio{% endif %}
                                {% if item.difficulty == 3 %}Avan√ßado{% endif %}
                                {% if item.difficulty == 4 %}Proficiente{% endif %}
                            </span>
                        </td>
                        <td>{{ item.date.strftime('%d/%m/%Y') }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <p>Nenhum desempenho registrado ainda. Seja o primeiro a jogar!</p>
    {% endif %}
{% endblock %}